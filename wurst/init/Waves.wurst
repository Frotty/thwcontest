package Waves
import public WavePool
import WaveManager
import MapStuff

/** Creates and returns a list of all Waves */
public function allWaves() returns Queue<WavePool>
	let queue = new Queue<WavePool>()
	// Add the waves from below here
	queue.enqueue(wave_1())
	queue.enqueue(wave_2())
	queue.enqueue(wave_3())
	queue.enqueue(wave_4())
	// Return all waves
	return queue

/** Every Single Wave creates a WavePool and returns it */
public function wave_1() returns WavePool
	//Wave 1 spawns zombies to make players ready, and to let them know their heroes. Survivable with basic attacks

	// Create the pool
	let pool = new WavePool()
	// Create a CreepDefinition. Use a distinctive Name here for later copies
	var def = new CreepDefinition("Lesser Zombie")
	// Set Values..
	def.hp = 100
	def.modelPath = "units\\creeps\\Zombie\\Zombie.mdl"
	def.scale = 0.9
	def.collisionSize = 8
	// Add Def to pool with amount and time (when to spawn after wave started)
	//Pool.setDuration is optional, its automatically set to the biggest spawn time.
	//pool.setDuration(30)

	pool.addSpawn(def,1*playerNumber,0,SpawnerGroup.WEST)
	pool.addSpawn(def,1*playerNumber,0.5,SpawnerGroup.WEST)
	pool.addSpawn(def,1*playerNumber,8,SpawnerGroup.NORTH)
	pool.addSpawn(def,1*playerNumber,8.5,SpawnerGroup.NORTH)
	pool.addSpawn(def,1*playerNumber,18,SpawnerGroup.EAST)
	pool.addSpawn(def,1*playerNumber,18.5,SpawnerGroup.EAST)
	
	// Return the pool
	return pool
	
// Copy Example
public function wave_2() returns WavePool
	// Create the pool
	let pool = new WavePool()
	// Copy an existing CreepDef
	// This still creates a new Object (as needed by the system)
	// But reduces codeLength and copy-paste work (readability too)
	var zom =new CreepDefinition("Zombie")
	zom.hp = 200
	zom.modelPath = "units\\creeps\\Zombie\\Zombie.mdl"
	zom.collisionSize = 12
	zom.damage = 30
	
	pool.addSpawn(copyCreepDef("Lesser Zombie"), 1*playerNumber, 0, SpawnerGroup.ALL)
	pool.addSpawn(copyCreepDef("Lesser Zombie"), 1*playerNumber, 1, SpawnerGroup.ALL)
	pool.addSpawn(copyCreepDef("Lesser Zombie"), 1*playerNumber, 2, SpawnerGroup.ALL)
	pool.addSpawn(zom, 1*playerNumber , 2.5 , SpawnerGroup.WEST )
	
	//pool.setDuration(50)
	return pool

public function wave_3() returns WavePool
	let pool = new WavePool()
	
	var def2 = new CreepDefinition("Assault Zombie", CreepType.FLIPPER)
	def2.hp = 30
	def2.modelPath = "units\\creeps\\Sasquatch\\Sasquatch.mdl"
	def2.scale *= 0.7
	def2.collisionSize = 4
	def2.movementSpeed = 300
	
	var zom =new CreepDefinition("Zombie")
	zom.hp = 200
	zom.modelPath = "units\\creeps\\Zombie\\Zombie.mdl"
	zom.collisionSize = 12
	zom.damage = 30
	
	pool.addSpawn(def2,1,2.5,SpawnerGroup.ALL)
	pool.addSpawn(zom, 10,0, SpawnerGroup.ALL)
	
	
	pool.setDuration(40)
	return pool
	
public function wave_4() returns WavePool
	let pool = new WavePool()
	
	var def2 = new CreepDefinition("Big Zombie")
	def2.hp = 500
	def2.modelPath = "units\\creeps\\Zombie\\Zombie.mdl"
	def2.scale *= 1.3
	def2.collisionSize = 4
	def2.movementSpeed = 300
	
	var mam = new CreepDefinition("Mammoth", CreepType.MAMMOTH)
	mam.hp = 300
	mam.movementSpeed = 200
	mam.modelPath = "Units\\Creeps\\MammothBlack\\MammothBlack.mdl"
	mam.scale *= 1.2
	pool.addSpawn(mam,1,21,SpawnerGroup.NORTH)
	
	
	pool.addSpawn(def2,1,2.5,SpawnerGroup.ALL)
	pool.addSpawn(copyCreepDef("Zombie"), 4,0, SpawnerGroup.ALL)
	
	
	pool.setDuration(400)
	return pool
	
public function wave_5() returns WavePool
	let pool = new WavePool()
	
	var def2 = new CreepDefinition("Big Zombie")
	def2.hp = 500
	def2.modelPath = "units\\creeps\\Zombie\\Zombie.mdl"
	def2.scale *= 1.3
	def2.collisionSize = 4
	def2.movementSpeed = 300
	
	var mam = new CreepDefinition("Mammoth", CreepType.MAMMOTH)
	mam.hp = 300
	mam.movementSpeed = 200
	mam.modelPath = "Units\\Creeps\\MammothBlack\\MammothBlack.mdl"
	mam.scale *= 1.2
	pool.addSpawn(mam,1,21,SpawnerGroup.NORTH)
	
	
	pool.addSpawn(def2,1,2.5,SpawnerGroup.ALL)
	pool.addSpawn(copyCreepDef("Zombie"), 4,0, SpawnerGroup.ALL)
	
	
	pool.setDuration(400)
	return pool
	
public function wave_6() returns WavePool
	let pool = new WavePool()
	
	var def2 = new CreepDefinition("Big Zombie")
	def2.hp = 500
	def2.modelPath = "units\\creeps\\Zombie\\Zombie.mdl"
	def2.scale *= 1.3
	def2.collisionSize = 4
	def2.movementSpeed = 300
	
	var mam = new CreepDefinition("Mammoth", CreepType.MAMMOTH)
	mam.hp = 300
	mam.movementSpeed = 200
	mam.modelPath = "Units\\Creeps\\MammothBlack\\MammothBlack.mdl"
	mam.scale *= 1.2
	pool.addSpawn(mam,1,21,SpawnerGroup.NORTH)
	
	
	pool.addSpawn(def2,1,2.5,SpawnerGroup.ALL)
	pool.addSpawn(copyCreepDef("Zombie"), 4,0, SpawnerGroup.ALL)
	
	
	pool.setDuration(400)
	return pool
	
public function init_Waves(boolean c)
	let waves = allWaves()
	// This Creates the Definitions as well but doesn#t generate the Objects (obviously we can't do this ingame)
	WaveManager.addAllWaves(waves)
	print("added")
	if c
		for w in waves
			print("wave for in ")
			w.generateObjects()

	